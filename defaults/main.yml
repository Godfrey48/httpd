---
# file: apache/defaults/main.yml
#
# defaults file
#

httpd_build_dependencies:
  - gcc
  - libapr1-dev
  - libaprutil1-dev
  - libpcre3-dev

httpd_dir: /usr/local/httpd
httpd_dir_cache: /var/cache/httpd
httpd_dir_configuration: /etc/httpd
httpd_dir_lock: /var/lock/httpd
httpd_dir_log: /var/log/httpd
httpd_dir_modules: /usr/lib/httpd
httpd_dir_run: /var/run/httpd
httpd_dir_source: /usr/local/src

httpd_modules:
  - access_compat
  - actions
  - alias
  - allowmethods
  - asis
  - auth_basic
  - auth_digest
  - auth_form
  - authn_anon
  - authn_core
  - authn_dbd
  - authn_dbm
  - authn_file
  - authn_socache
  - authnz_ldap
  - authz_core
  - authz_dbd
  - authz_dbm
  - authz_groupfile
  - authz_host
  - authz_owner
  - authz_user
  - autoindex
  - buffer
  - cache
  - cache_disk
  - cache_socache
  - cgi
  - cgid
  - charset_lite
  - data
  - dav
  - dav_fs
  - dav_lock
  - dbd
  - deflate
  - dialup
  - dir
  - dump_io
  - echo
  - env
  - expires
  - ext_filter
  - file_cache
  - filter
  - headers
  - heartbeat
  - heartmonitor
  - include
  - info
  - lbmethod_bybusyness
  - lbmethod_byrequests
  - lbmethod_bytraffic
  - lbmethod_heartbeat
  - ldap
  - log_debug
  - log_forensic
  - lua
  - macro
  - mime
  - mime_magic
  - mpm_event
  - mpm_prefork
  - mpm_worker
  - negotiation
  - proxy
  - proxy_ajp
  - proxy_balancer
  - proxy_connect
  - proxy_express
  - proxy_fcgi
  - proxy_fdpass
  - proxy_ftp
  - proxy_html
  - proxy_http
  - proxy_scgi
  - proxy_wstunnel
  - ratelimit
  - reflector
  - remoteip
  - reqtimeout
  - request
  - rewrite
  - sed
  - session
  - session_cookie
  - session_crypto
  - session_dbd
  - setenvif
  - slotmem_plain
  - slotmem_shm
  - socache_dbm
  - socache_memcache
  - socache_shmcb
  - speling
  - ssl
  - status
  - substitute
  - suexec
  - unique_id
  - userdir
  - usertrack
  - vhost_alias
  - xml2enc

httpd_modules_enabled: []

httpd_user:
  name: www-data
  home: /var/www-data
  shell: /usr/sbin/nologin

httpd_version: 2.4.23


httpd_default: |
  ### htcacheclean settings ###

  ## run htcacheclean: yes, no, auto
  ## auto means run if /etc/httpd/mods-enabled/cache_disk.load exists
  ## default: auto
  HTCACHECLEAN_RUN=auto

  ## run mode: cron, daemon
  ## run in daemon mode or as daily cron job
  ## default: daemon
  HTCACHECLEAN_MODE=daemon

  ## cache size
  HTCACHECLEAN_SIZE=300M

  ## interval: if in daemon mode, clean cache every x minutes
  HTCACHECLEAN_DAEMON_INTERVAL=120

  ## path to cache
  ## must be the same as in CacheRoot directive
  HTCACHECLEAN_PATH=/var/cache/httpd/mod_cache_disk

  ## additional options:
  ## -n : be nice
  ## -t : remove empty directories
  HTCACHECLEAN_OPTIONS="-n"

httpd_dir_install: "{{ httpd_dir }}-{{ httpd_version }}"
httpd_tarball: "httpd-{{ httpd_version }}.tar.gz"

httpd_build_options: '--prefix={{ httpd_dir_install }}'
httpd_download_url: "http://apache.osuosl.org//httpd/{{ httpd_tarball }}"
httpd_download_url_asc: "https://www.apache.org/dist/httpd/{{ httpd_tarball }}.asc"
httpd_download_url_md5: "https://www.apache.org/dist/httpd/{{ httpd_tarball }}.md5"
httpd_env:
  APACHE_RUN_USER: "{{ httpd_user.name }}"
  APACHE_RUN_GROUP: "{{ httpd_user.name }}"
  APACHE_PID_FILE: "{{ httpd_dir_run }}/httpd.pid"
  APACHE_RUN_DIR: "{{ httpd_dir_run }}"
  APACHE_LOCK_DIR: "{{ httpd_dir_lock }}"
  APACHE_LOG_DIR: "{{ httpd_dir_log }}"
  LANG: C
