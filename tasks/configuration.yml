---
# file: apache/tasks/configuration.yml
#
# configuration tasks.
#

- name: configuration | setup /usr/local/apache2 directory link
  file:
    src="/usr/local/apache2-{{ apache_version }}"
    path=/usr/local/apache2
    state=link
  become: yes

- name: configuration | setup modules directory link
  file:
    src=/usr/local/apache2/modules
    path="{{ apache_dir_modules }}"
    state=link
  become: yes

- name: configuration | setup configuration directories
  file:
    path="{{ apache_dir_configuration }}{{ item }}"
    owner="{{ apache_user }}"
    group="{{ apache_user }}"
    mode=0750
    state=directory
  become: yes
  with_items:
    - ''
    - /envvars
    - /conf-available
    - /mods-available
    - /mods-enabled
    - /sites-available
    - /sites-enabled
