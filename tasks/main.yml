---
# file: apache/tasks/main.yml
#
# tasks file
#

- include: debug.yml
  when: debug | default(false)
  tags: debug

- include: validation.yml
  tags: validation

- name: setup apache account
  user:
    name="{{ httpd_user.name }}"
    home="{{ httpd_user.home }}"
    shell="{{ httpd_user.shell }}"
    uid="{{ httpd_user.uid| default(omit) }}"
    system=yes
    state=present
  become: yes

- include: build.yml
  tags: build

- include: configuration.yml
  tags: configuration

- include: modules.yml
  tags: modules
